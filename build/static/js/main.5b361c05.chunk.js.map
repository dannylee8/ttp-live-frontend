{"version":3,"sources":["components/TopMenu.js","components/SingleStock.js","components/SingleTransaction.js","components/LeftCol.js","components/RightCol.js","components/Home.js","components/registrations/Login.js","components/registrations/Signup.js","App.js","index.js"],"names":["TopMenu","props","setModeClick","event","setMode","target","innerHTML","toLowerCase","className","loggedInStatus","to","onClick","axios","delete","withCredentials","then","response","handleLogout","history","push","catch","error","console","log","commaNumber","require","SingleStock","currentPrice","openPrice","symbol","shares","toFixed","SingleTransaction","parseFloat","price","LeftCol","modeStatus","portfolioCurrentValue","portfolioCost","id","stocks","map","s","key","current_price","HEADERS","RightCol","handleChange","name","value","setState","handleSubmit","preventDefault","state","ticker","quantity","Number","isInteger","alert","get","data","orderCost","latestPrice","newBalance","user","cash","placeOrder","errors","userID","fetch","method","headers","body","JSON","stringify","resp","json","updateUser","toUpperCase","user_id","updateStocks","stock","this","userobj","onSubmit","placeholder","type","onChange","Component","Home","redirect","Login","email","password","post","logged_in","handleLogin","handleErrors","Signup","username","password_confirmation","status","App","modeText","mode","loginStatus","prevState","isLoggedIn","getUserStocks","portfolio_cost","portfolio_current_value","symbolList","join","k","stockInState","find","filteredState","filter","ohlc","open","loading","exact","path","render","ReactDOM","document","getElementById"],"mappings":"yQAoCeA,MAhCf,SAAkBC,GAChB,IASMC,EAAe,SAACC,GACpBF,EAAMG,QAAQD,EAAME,OAAOC,UAAUC,gBAGvC,OACE,yBAAKC,UAAU,mBAEb,0BAAMA,UAAU,QAAhB,mBACCP,EAAMQ,eAEL,oCACE,kBAAC,IAAD,CAAMC,GAAG,UAAUC,QApBP,WAClBC,IAAMC,OAAO,gDAAiD,CAAEC,iBAAiB,IAC9EC,MAAK,SAAAC,GACJf,EAAMgB,eACNhB,EAAMiB,QAAQC,KAAK,aAEpBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAetB,4BAAQb,UAAU,iEAAgE,0BAAMA,UAAU,gCAAlG,aAEF,4BAAQG,QAAST,EAAcM,UAAU,kEAAzC,aACA,4BAAQG,QAAST,EAAcM,UAAU,4DAAzC,iBAEA,OC9BNgB,EAAcC,EAAQ,IAuBXC,MArBf,SAAsBzB,GAMpB,OAFAqB,QAAQC,IAAItB,GAGV,4BACE,wBAAIO,UAAYP,EAAM0B,aAAe1B,EAAM2B,UAAa,QAAW3B,EAAM0B,eAAiB1B,EAAM2B,UAAa,OAAS,OACnH3B,EAAM4B,QAET,4BACG5B,EAAM6B,OADT,WAGA,wBAAItB,UAAYP,EAAM0B,aAAe1B,EAAM2B,UAAa,QAAW3B,EAAM0B,eAAiB1B,EAAM2B,UAAa,OAAS,OAAtH,KACKJ,GAAavB,EAAM6B,OAAS7B,EAAM0B,cAAcI,QAAQ,OCHpDC,MAbf,SAA4B/B,GAC1B,OACE,4BACE,oCACQA,EAAM4B,OADd,KAGA,4BACG5B,EAAM6B,OADT,cAC4BG,WAAWhC,EAAMiC,OAAOH,QAAQ,MCL9DP,EAAcC,EAAQ,IAoCXU,MAlCf,SAAkBlC,GAChB,OACE,yBAAKO,UAAU,eACb,6BACA,6BACsB,cAArBP,EAAMmC,WACP,oCACE,yCACA,+CAAqBZ,EAAYvB,EAAMoC,sBAAsBN,QAAQ,KACrE,gDAAsBP,EAAYvB,EAAMqC,gBACxC,2BAAOC,GAAG,UACR,+BACGtC,EAAMuC,OAAOC,KAAI,SAACC,GACjB,OAAO,kBAAC,EAAD,CAAaC,IAAKD,EAAEH,GAAIV,OAAQa,EAAEb,OAAQC,OAAQY,EAAEZ,OAAQH,aAAce,EAAEE,cAAehB,UAAWc,EAAEd,kBAMvH,oCACE,4CACA,2BAAOW,GAAG,UACR,+BACGtC,EAAMuC,OAAOC,KAAI,SAACC,GACjB,OAAO,kBAAC,EAAD,CAAmBC,IAAKD,EAAEH,GAAIV,OAAQa,EAAEb,OAAQC,OAAQY,EAAEZ,OAAQI,MAAOQ,EAAER,gB,QC3B5FV,EAAcC,EAAQ,IAEpBoB,EAAU,CACd,eAAgB,mBAChB,OAAgB,oBAwIHC,E,YAnIb,WAAa7C,GAAQ,IAAD,8BAClB,4CAAMA,KAOR8C,aAAe,SAAC5C,GAAW,IAAD,EACFA,EAAME,OAArB2C,EADiB,EACjBA,KAAMC,EADW,EACXA,MACb,EAAKC,SAAL,eACGF,EAAOC,KAXQ,EA2CpBE,aAAe,SAAChD,GACdA,EAAMiD,iBADkB,MAEG,EAAKC,MAAzBC,EAFiB,EAEjBA,OAAQC,EAFS,EAETA,SAGVD,GAKAC,IAAaC,OAAOC,UAAUD,OAAOD,KAAcA,EAAW,EACjEG,MAAM,mCAIR9C,IAAM+C,IAAN,mDAAsDL,EAAtD,sDACCvC,MAAK,SAAAC,GACJ,GAAIA,EAAS4C,KAAK/B,OAAQ,CACxB,IAAIgC,GAAa7C,EAAS4C,KAAKE,YAAcP,GAAUxB,QAAQ,GAC3DgC,EAAa,EAAK9D,MAAM+D,KAAKC,KAAOJ,EACxC,KAAIE,EAAa,GAQf,YADAL,MAAM,sBANN,EAAKR,SAAS,CACZI,OAAQ,GACRC,SAAU,KAEZ,EAAKW,WAAW,EAAKjE,MAAM+D,KAAKzB,GAAIwB,EAAYT,EAAQC,EAAUvC,EAAS4C,KAAKE,kBAMlF,EAAKZ,SAAS,CACZiB,OAAQ,iBACRb,OAAQ,GACRC,SAAU,QAIfnC,OAAM,SAAAC,GACLC,QAAQC,IAAI,cAAeF,GAC3BqC,MAAM,+CAlCNA,MAAM,8CA/CR,EAAKL,MAAQ,CACXC,OAAQ,GACRC,SAAU,IAJM,E,wEAeTa,EAAQL,EAAYT,EAAQC,EAAUO,GAAc,IAAD,OAC5DO,MAAM,gDAAD,OAAiDD,GAAU,CAC9DE,OAAQ,QACRC,QAAS1B,EACT2B,KAAMC,KAAKC,UAAU,CACnBT,KAAMF,MAGThD,MAAK,SAAA4D,GAAI,OAAIA,EAAKC,UAClB7D,MAAK,SAAA6D,GACJ,EAAK3E,MAAM4E,WAAWD,EAAKZ,SAE7BK,MAAM,gDAAiD,CACrDC,OAAQ,OACRC,QAAS1B,EACT2B,KAAMC,KAAKC,UAAU,CACnB7C,OAAQyB,EAAOwB,cACfhD,OAAQyB,EACRrB,MAAO4B,EACPiB,QAASX,MAGZrD,MAAK,SAAA4D,GAAI,OAAIA,EAAKC,UAClB7D,MAAK,SAAA6D,GACJ,EAAK3E,MAAM+E,aAAaJ,EAAKK,MAAOnB,Q,+BAgD/B,MAEoBoB,KAAK7B,MAAzBC,EAFA,EAEAA,OAAQC,EAFR,EAEQA,SACf,OAEE,yBAAK/C,UAAS,iBAAuC,cAA1B0E,KAAKjF,MAAMmC,WAA8B,QAAU,KACjD,cAA1B8C,KAAKjF,MAAMmC,WACZ,oCACE,yBAAK5B,UAAU,gBAAf,mBACmB0E,KAAKjF,MAAMkF,QAAX,UAAwB3D,EAAYS,WAAWiD,KAAKjF,MAAMkF,QAAQlB,MAAMlC,QAAQ,KAAQ,MAE3G,6BACA,6BACE,0BAAMvB,UAAU,0BAA0B4E,SAAUF,KAAK/B,cACvD,2BACEkC,YAAY,gBACZ7E,UAAU,mCACV8E,KAAK,OACLtC,KAAK,SACLC,MAAOK,EACPiC,SAAUL,KAAKnC,eAEjB,6BACA,2BACIsC,YAAY,WACZ7E,UAAU,mCACV8E,KAAK,OACLtC,KAAK,WACLC,MAAOM,EACPgC,SAAUL,KAAKnC,eAEnB,6BACA,4BAAQvC,UAAU,qCAAqC6E,YAAY,SAASC,KAAK,UAAjF,UAMJ,W,GA/HaE,aCoBRC,E,2MAnBbC,SAAW,WACT,EAAKzF,MAAMiB,QAAQC,KAAK,W,oFAJxB,OAAO+D,KAAKjF,MAAMQ,eAAiB,KAAOyE,KAAKQ,a,+BAQ/C,OACE,6BACE,kBAAC,EAAD,iBAAaR,KAAKjF,MAAlB,CAAyBG,QAAS8E,KAAKjF,MAAMG,QAASK,eAAgByE,KAAKjF,MAAMQ,kBAChFyE,KAAKjF,MAAMQ,eACV,yBAAKD,UAAU,OACb,kBAAC,EAAD,iBAAa0E,KAAKjF,MAAlB,CAAyBkF,QAASD,KAAKjF,MAAMkF,QAAS/C,WAAY8C,KAAKjF,MAAMmC,cAC7E,kBAAC,EAAD,iBAAc8C,KAAKjF,MAAnB,CAA0B4E,WAAYK,KAAKjF,MAAM4E,WAAYM,QAASD,KAAKjF,MAAMkF,QAAS/C,WAAY8C,KAAKjF,MAAMmC,eAEjH,U,GAnBOoD,aC2GJG,E,YA3Gb,WAAa1F,GAAQ,IAAD,8BAClB,4CAAMA,KAYR8C,aAAe,SAAC5C,GAAW,IAAD,EACFA,EAAME,OAArB2C,EADiB,EACjBA,KAAMC,EADW,EACXA,MACb,EAAKC,SAAL,eACGF,EAAOC,KAhBQ,EAoBpBE,aAAe,SAAChD,GACdA,EAAMiD,iBADkB,MAEE,EAAKC,MAC3BW,EAAO,CACT4B,MAJsB,EAEjBA,MAGLC,SALsB,EAEVA,UAKdjF,IAAMkF,KAAK,+CAAgD,CAAC9B,QAAO,CAAClD,iBAAiB,IACpFC,MAAK,SAAAC,GACAA,EAAS4C,KAAKmC,WAChB,EAAK9F,MAAM+F,YAAYhF,EAAS4C,MAChC,EAAK8B,YAEL,EAAKxC,SAAS,CACZiB,OAAQnD,EAAS4C,KAAKO,OACtByB,MAAO,GACPC,SAAU,QAIfzE,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,cAAeF,OAxCzB,EA2CpBqE,SAAW,WACT,EAAKzF,MAAMiB,QAAQC,KAAK,MA5CN,EA+CpB8E,aAAe,WACb,OACE,6BACE,wBAAIzF,UAAU,iBACb,EAAK6C,MAAMc,OAAO1B,KAAI,SAAApB,GACvB,OAAO,wBAAIsB,IAAKtB,GAAQA,SAlD5B,EAAKgC,MAAQ,CACXuC,MAAO,GACPC,SAAU,GACV1B,OAAQ,IALQ,E,kFAUlB,OAAOe,KAAKjF,MAAMQ,eAAiByE,KAAKQ,WAAa,O,+BAkD7C,IAAD,EACmBR,KAAK7B,MAAxBuC,EADA,EACAA,MAAOC,EADP,EACOA,SACd,OACE,oCACE,yBAAKrF,UAAU,YACb,0BAAMA,UAAU,QAAhB,oBAEF,yBAAKA,UAAU,UACb,yBAAK+B,GAAG,aACN,uCACA,0BAAM/B,UAAU,eAAe4E,SAAUF,KAAK/B,cAC5C,2BACEkC,YAAY,QACZ7E,UAAU,mCACV8E,KAAK,OACLtC,KAAK,QACLC,MAAO2C,EACPL,SAAUL,KAAKnC,eAEjB,6BACE,2BACEsC,YAAY,WACZ7E,UAAU,mCACV8E,KAAK,WACLtC,KAAK,WACLC,MAAO4C,EACPN,SAAUL,KAAKnC,eAEjB,4BAAQvC,UAAU,qCAAqC6E,YAAY,SAASC,KAAK,UAAjF,UAGF,mCACK,kBAAC,IAAD,CAAM5E,GAAG,WAAT,eAIP,yBAAKF,UAAU,aAEb0E,KAAK7B,MAAMc,OAASe,KAAKe,eAAiB,Y,GAnGpCT,aCiILU,E,YAhIb,WAAYjG,GAAQ,IAAD,8BACjB,4CAAMA,KAcR8C,aAAe,SAAC5C,GAAW,IAAD,EACFA,EAAME,OAArB2C,EADiB,EACjBA,KAAMC,EADW,EACXA,MACb,EAAKC,SAAL,eACGF,EAAOC,KAlBO,EAsBnBE,aAAe,SAAChD,GACdA,EAAMiD,iBADkB,MAEmC,EAAKC,MAC5DW,EAAO,CACTmC,SAJsB,EAEjBA,SAGLP,MALsB,EAEPA,MAIfC,SANsB,EAEAA,SAKtBO,sBAPsB,EAEUA,sBAMhCnC,KAAM,KAERrD,IAAMkF,KAAK,+CAAgD,CAAC9B,QAAO,CAAClD,iBAAiB,IACpFC,MAAK,SAAAC,GACyB,YAAzBA,EAAS4C,KAAKyC,QAChB,EAAKpG,MAAM+F,YAAYhF,EAAS4C,MAChC,EAAK8B,YAEL,EAAKxC,SAAS,CACZiB,OAAQnD,EAAS4C,KAAKO,OACtBgC,SAAU,GACVP,MAAO,GACPC,SAAU,GACVO,sBAAuB,QAI5BhF,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,cAAeF,OA/C1B,EAkDnBqE,SAAW,WACT,EAAKzF,MAAMiB,QAAQC,KAAK,MAnDP,EAsDnB8E,aAAe,WACb,OACE,6BACE,wBAAIzF,UAAU,iBAAiB,EAAK6C,MAAMc,OAAO1B,KAAI,SAACpB,GACpD,OAAO,wBAAIsB,IAAKtB,GAAQA,SAxD9B,EAAKgC,MAAQ,CACX8C,SAAU,GACVP,MAAO,GACPC,SAAU,GACVO,sBAAuB,GACvBjC,OAAQ,IAPO,E,kFAYjB,OAAOe,KAAKjF,MAAMQ,eAAiByE,KAAKQ,WAAa,O,+BAoD7C,IAAD,EACoDR,KAAK7B,MAAzD8C,EADA,EACAA,SAAUP,EADV,EACUA,MAAOC,EADjB,EACiBA,SAAUO,EAD3B,EAC2BA,sBAClC,OACE,oCACE,yBAAK5F,UAAU,YACX,0BAAMA,UAAU,QAAhB,oBAEJ,yBAAKA,UAAU,UACb,yBAAK+B,GAAG,aACN,wCACA,0BAAM/B,UAAU,eAAe4E,SAAUF,KAAK/B,cAC5C,2BACEkC,YAAY,WACZ7E,UAAU,mCACV8E,KAAK,OACLtC,KAAK,WACLC,MAAOkD,EACPZ,SAAUL,KAAKnC,eAEjB,2BACEsC,YAAY,QACZ7E,UAAU,mCACV8E,KAAK,OACLtC,KAAK,QACLC,MAAO2C,EACPL,SAAUL,KAAKnC,eAEjB,2BACEsC,YAAY,WACZ7E,UAAU,mCACV8E,KAAK,WACLtC,KAAK,WACLC,MAAO4C,EACPN,SAAUL,KAAKnC,eAEjB,2BACEsC,YAAY,wBACZ7E,UAAU,mCACV8E,KAAK,WACLtC,KAAK,wBACLC,MAAOmD,EACPb,SAAUL,KAAKnC,eAGjB,4BAAQvC,UAAU,qCAAqC6E,YAAY,SAASC,KAAK,UAAjF,WAGA,mCACK,kBAAC,IAAD,CAAM5E,GAAG,UAAT,WAGP,8BAEF,yBAAKF,UAAU,aAEX0E,KAAK7B,MAAMc,OAASe,KAAKe,eAAiB,Y,GAxHnCT,aCqINc,E,YAjIb,WAAYrG,GAAQ,IAAD,8BACjB,4CAAMA,KAgBRG,QAAU,SAACmG,GACT,EAAKrD,SAAS,CACZsD,KAAMD,KAnBS,EAuBnB1B,WAAa,SAACb,GACZ,EAAKd,SAAS,CACZc,KAAMA,KAzBS,EA6BnBgB,aAAe,SAACC,EAAOnB,GACrB,EAAKZ,SAAS,CACZV,OAAO,GAAD,mBAAM,EAAKa,MAAMb,QAAjB,gBAA8ByC,EAA9B,CAAqCrC,cAAekB,SA/B3C,EAmCnB2C,YAAc,WACZ7F,IAAM+C,IAAI,mDAAoD,CAAC7C,iBAAiB,IAC/EC,MAAK,SAAAC,GACAA,EAAS4C,KAAKmC,UAChB,EAAKC,YAAYhF,EAAS4C,MAE1B,EAAK3C,kBAGRG,OAAM,SAAAC,GACLC,QAAQC,IAAI,cAAeF,OA7CZ,EAiDnB2E,YAAc,SAACpC,GACb,EAAKV,UAAS,SAACwD,EAAWzG,GAAZ,MAAuB,CACnC0G,YAAY,EACZ3C,KAAMJ,EAAKI,KACXwC,KAAM,gBAEJ5C,EAAKI,MACP,EAAK4C,cAAchD,EAAKI,KAAKzB,KAxDd,EA4DnBqE,cAAgB,SAACrE,GACf8B,MAAM,gDAAD,OAAiD9B,IACrDxB,MAAM,SAAA4D,GAAI,OAAIA,EAAKC,UACnB7D,MAAM,SAAA6D,GACL,EAAK1B,UAAS,SAACwD,EAAWzG,GAAZ,MAAuB,CACnCuC,OAAQoC,EAAKpC,OACbF,cAAesC,EAAKiC,eACpBxE,sBAAuBuC,EAAKkC,4BAG9B,IAAIC,EAAanC,EAAKpC,OAAOC,KAAI,SAAAC,GAAC,OAAIA,EAAEb,UAAQmF,KAAK,KAErDpG,IAAM+C,IAAN,wEAA2EoD,EAA3E,2DACChG,MAAK,SAAAC,GAAa,IAAD,aAKd,IAAIiG,EAAItE,EACJuE,EAAe,EAAK7D,MAAMb,OAAO2E,MAAK,SAAAzE,GAAC,OAAIA,EAAEb,SAAWoF,KACxDG,EAAgB,EAAK/D,MAAMb,OAAO6E,QAAO,SAAA3E,GAAC,OAAIA,EAAEb,SAAWoF,KAC3DrF,EAAYZ,EAAS4C,KAAKjB,GAAK2E,KAAKC,KAAKrF,MAG7C,EAAKgB,SAAS,CACZV,OAAO,GAAD,mBAAM4E,GAAN,gBAA0BF,EAA1B,CAAwCtF,UAAWA,SAT7D,IAAK,IAAIe,KAAO3B,EAAS4C,KAAO,WA5EnB,EA4FnB3C,aAAe,WACb,EAAKiC,SAAS,CACZyD,YAAY,EACZ3C,KAAM,MA7FR,EAAKX,MAAQ,CACXmE,SAAS,EACTb,YAAY,EACZ3C,KAAM,GACNwC,KAAM,GACNhE,OAAQ,GACRF,cAAe,EACfD,sBAAuB,GATR,E,iFAcjB6C,KAAKuB,gB,+BAqFG,IAAD,OACP,OACE,yBAAKlE,GAAG,WACN,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEkF,OAAK,EAACC,KAAK,SACXC,OAAQ,SAAA1H,GAAK,OACb,kBAAC,EAAD,iBAAWA,EAAX,CAAkB+F,YAAa,EAAKA,YAAavF,eAAgB,EAAK4C,MAAMsD,iBAG9E,kBAAC,IAAD,CACEc,OAAK,EAACC,KAAK,UACXC,OAAQ,SAAA1H,GAAK,OACb,kBAAC,EAAD,iBAAYA,EAAZ,CAAmB+F,YAAa,EAAKA,YAAavF,eAAgB,EAAK4C,MAAMsD,iBAG/E,kBAAC,IAAD,CACEe,KAAK,IACLC,OAAQ,SAAA1H,GAAK,OACb,kBAAC,EAAD,iBAAUA,EAAW,EAAKoD,MAA1B,CAAiCwB,WAAY,EAAKA,WAAYG,aAAc,EAAKA,aAAc/D,aAAc,EAAKA,aAAckE,QAAS,EAAK9B,MAAMW,KAAM5D,QAAS,EAAKA,QAASgC,WAAY,EAAKiB,MAAMmD,KAAM/F,eAAgB,EAAK4C,MAAMsD,wB,GAxHrOnB,aCHlBoC,IAASD,OAAO,kBAAC,EAAD,MAASE,SAASC,eAAe,W","file":"static/js/main.5b361c05.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nfunction TopMenu (props) {\n  const handleClick = () => {\n    axios.delete('https://ttp-live-backend.herokuapp.com/logout', { withCredentials: true })\n      .then(response => {\n        props.handleLogout()\n        props.history.push('/login')\n      })\n      .catch(error => console.log(error))\n  }\n\n  const setModeClick = (event) => {\n    props.setMode(event.target.innerHTML.toLowerCase())\n  }\n\n  return (\n    <div className='w3-bar top-menu'>\n      {/* {console.log(\"TopMenu: \", props)} */}\n      <span className='logo'>TTP Stock Trade</span>\n      {props.loggedInStatus\n        ?    \n        <>       \n          <Link to='/logout' onClick={handleClick}>\n            <button className=\"w3-bar-item w3-button w3-pale-blue w3-right w3-hover-pale-red\"><span className='glyphicon glyphicon-log-out' /> Log Out</button>\n          </Link>\n          <button onClick={setModeClick} className=\"w3-bar-item w3-button w3-light-grey w3-right w3-hover-pale-red\">Portfolio</button>\n          <button onClick={setModeClick} className=\"w3-bar-item w3-button w3-sand w3-right w3-hover-pale-red\">Transactions</button>\n        </>\n        : null}\n    </div>\n  )\n}\n\nexport default TopMenu\n","import React from 'react'\nvar commaNumber = require('comma-number')\n\nfunction SingleStock (props) {\n  // conditionally render color of the stock Symbol and Price \n  // red if current price is less than open price\n  // green if reverse, gray if equal\n  console.log(props)\n\n  return (\n    <tr>\n      <td className={(props.currentPrice > props.openPrice) ? 'green' : (props.currentPrice === props.openPrice) ? 'gray' : 'red'}>\n        {props.symbol}\n      </td>\n      <td>\n        {props.shares} shares\n      </td>\n      <td className={(props.currentPrice > props.openPrice) ? 'green' : (props.currentPrice === props.openPrice) ? 'gray' : 'red'}>\n        $ {commaNumber((props.shares * props.currentPrice).toFixed(2))}\n      </td>\n    </tr>\n  )\n}\n\nexport default SingleStock\n","import React from 'react'\n\nfunction SingleTransaction (props) {\n  return (\n    <tr>\n      <td>\n        BUY ({props.symbol})\n      </td>\n      <td>\n        {props.shares} shares @ ${parseFloat(props.price).toFixed(2)}\n      </td>\n    </tr>\n  )\n}\n\nexport default SingleTransaction\n","import React from 'react'\nimport SingleStock from './SingleStock'\nimport SingleTransaction from './SingleTransaction'\n\nvar commaNumber = require('comma-number')\n\nfunction LeftCol (props) {\n  return (\n    <div className='column left'>\n      <br />\n      <br />\n      {props.modeStatus === 'portfolio' ? \n      <>\n        <h2>Portfolio</h2>\n        <h4>Current value: ${commaNumber(props.portfolioCurrentValue.toFixed(2))}</h4>\n        <h4>Portfolio Cost: ${commaNumber(props.portfolioCost)}</h4>\n        <table id='stocks'>\n          <tbody>\n            {props.stocks.map((s) => { \n              return <SingleStock key={s.id} symbol={s.symbol} shares={s.shares} currentPrice={s.current_price} openPrice={s.openPrice}/>\n            })}\n          </tbody>\n        </table>\n      </>\n      : \n      <>\n        <h2>Transactions</h2>\n        <table id='stocks'>\n          <tbody>\n            {props.stocks.map((s) => { \n              return <SingleTransaction key={s.id} symbol={s.symbol} shares={s.shares} price={s.price} />\n            })}\n          </tbody>\n        </table>\n      </>\n      }\n    </div>\n  )\n}\n\nexport default LeftCol;","import React, { Component } from 'react';\nimport axios from 'axios'\n\nvar commaNumber = require('comma-number')\n\nconst HEADERS = {\n  \"content-type\": \"application/json\",\n  \"accept\"      : \"application/json\"\n}\n\nclass RightCol extends Component {\n\n  constructor (props) {\n    super(props);\n    this.state = { \n      ticker: '',\n      quantity: ''\n    };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  placeOrder(userID, newBalance, ticker, quantity, latestPrice) {\n    fetch(`https://ttp-live-backend.herokuapp.com/users/${userID}`, {\n      method: \"PATCH\",\n      headers: HEADERS,\n      body: JSON.stringify({\n        cash: newBalance\n      })\n    })\n    .then(resp => resp.json())\n    .then(json => {\n      this.props.updateUser(json.user)\n    })\n    fetch(`https://ttp-live-backend.herokuapp.com/stocks`, {\n      method: \"POST\",\n      headers: HEADERS,\n      body: JSON.stringify({\n        symbol: ticker.toUpperCase(),\n        shares: quantity,\n        price: latestPrice,\n        user_id: userID\n      })\n    })\n    .then(resp => resp.json())\n    .then(json => {\n      this.props.updateStocks(json.stock, latestPrice)\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {ticker, quantity} = this.state\n\n    // check for completed form inputs\n    if (!ticker) {\n      alert(\"Please enter a valid stock ticker symbol.\")\n      return\n    }\n    // positive, integers only\n    if (!quantity || !Number.isInteger(Number(quantity)) || quantity < 0) {\n      alert(\"Please enter quantity of shares\")\n      return\n    }\n\n    axios.get(`https://sandbox.iexapis.com/stable/stock/${ticker}/quote?token=Tpk_f60d00f3b3774527b14ddc2510d54b18`)\n    .then(response => {\n      if (response.data.symbol) {\n        let orderCost = (response.data.latestPrice * quantity).toFixed(2)\n        let newBalance = this.props.user.cash - orderCost\n        if (newBalance > 0 ) {\n          this.setState({\n            ticker: '',\n            quantity: ''\n          })\n          this.placeOrder(this.props.user.id, newBalance, ticker, quantity, response.data.latestPrice)\n        } else {\n          alert(\"Insufficient funds\")\n          return\n        }\n      } else {\n        this.setState({\n          errors: 'no such ticker',\n          ticker: '',\n          quantity: ''\n        })\n      }\n    })\n    .catch(error => {\n      console.log('api errors:', error)\n      alert('Please enter a valid stock ticker symbol')\n    })\n  };\n\n  render() {\n    // console.log(this.props)\n    const {ticker, quantity} = this.state\n    return (\n      // Portfolio mode, show right column bg color and dividing line\n      <div className={`column ${(this.props.modeStatus === 'portfolio') ? 'right' : ''}`}>\n        {this.props.modeStatus === 'portfolio' ? \n        <>\n          <div className=\"cash-balance\">\n            Cash Balance: $ {this.props.userobj ? `${commaNumber(parseFloat(this.props.userobj.cash).toFixed(2))}` : null}\n          </div>\n          <br />\n          <div>\n            <form className=\"w3-container stock-form\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"Ticker symbol\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"ticker\"\n                value={ticker}\n                onChange={this.handleChange}\n              />\n              <br />\n              <input\n                  placeholder=\"Quantity\"\n                  className=\"w3-input w3-border w3-light-grey\"\n                  type=\"text\"\n                  name=\"quantity\"\n                  value={quantity}\n                  onChange={this.handleChange}\n              />\n              <br />\n              <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                Buy\n              </button>\n            </form>\n          </div>\n        </>\n        : null}\n      </div>\n    )\n  }\n}\n\nexport default RightCol;\n","import React, { Component } from 'react';\nimport TopMenu from './TopMenu'\nimport LeftCol from './LeftCol'\nimport RightCol from './RightCol'\n\nclass Home extends Component {\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? null : this.redirect()\n  }\n\n  redirect = () => {\n    this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div>\n        <TopMenu {...this.props} setMode={this.props.setMode} loggedInStatus={this.props.loggedInStatus} />\n        {this.props.loggedInStatus ? \n          <div className='row'>\n            <LeftCol {...this.props} userobj={this.props.userobj} modeStatus={this.props.modeStatus} />\n            <RightCol {...this.props} updateUser={this.props.updateUser} userobj={this.props.userobj} modeStatus={this.props.modeStatus} />\n          </div>\n          : null}\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nclass Login extends Component {\n  constructor (props) {\n    super(props);\n    this.state = { \n      email: '',\n      password: '',\n      errors: ''\n    };\n  }\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? this.redirect() : null\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {email, password} = this.state\n    let user = {\n      email: email,\n      password: password\n    }\n    axios.post('https://ttp-live-backend.herokuapp.com/login', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.logged_in) {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors,\n          email: '',\n          password: ''\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.props.history.push('/')\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul className='error-message'>\n        {this.state.errors.map(error => {\n        return <li key={error}>{error}</li>\n          })\n        }\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {email, password} = this.state\n    return (\n      <>\n        <div className='top-menu'>\n          <span className='logo'>TTP Stock Trade</span>\n        </div>\n        <div className='center' >\n          <div id=\"login_div\">\n            <h4>Sign In</h4>\n            <form className=\"w3-container\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"email\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n              />\n              <br></br>\n                <input\n                  placeholder=\"password\"\n                  className=\"w3-input w3-border w3-light-grey\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={this.handleChange}\n                />\n                <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                  Log In\n                </button>\n              <div>\n                or <Link to='/signup'>register</Link>\n              </div>\n              </form>\n            </div>\n            <div className='error-box'>\n            {\n              this.state.errors ? this.handleErrors() : null\n            }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? this.redirect() : null\n  }\n  \n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {username, email, password, password_confirmation} = this.state\n    let user = {\n      username: username,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation,\n      cash: 5000.00\n    }\n    axios.post('https://ttp-live-backend.herokuapp.com/users', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.status === 'created') {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors,\n          username: '',\n          email: '',\n          password: '',\n          password_confirmation: ''\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.props.history.push('/')\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul className='error-message'>{this.state.errors.map((error) => {\n          return <li key={error}>{error}</li>\n        })}</ul> \n      </div>\n    )\n  }\n\n  render() {\n    const {username, email, password, password_confirmation} = this.state\n    return (\n      <>\n        <div className='top-menu'>\n            <span className='logo'>TTP Stock Trade</span>\n        </div>\n        <div className='center'>\n          <div id=\"login_div\">\n            <h4>Register</h4>\n            <form className=\"w3-container\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"username\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"username\"\n                value={username}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"email\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n              />\n              <input \n                placeholder=\"password\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password confirmation\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n              />\n            \n              <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                Sign Up\n              </button>\n              <div>\n                or <Link to='/login'>login</Link>\n              </div>\n            </form>\n            <br />\n          </div>\n          <div className='error-box'>\n            {\n              this.state.errors ? this.handleErrors() : null\n            }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Signup;","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Home from './components/Home'\nimport Login from './components/registrations/Login'\nimport Signup from './components/registrations/Signup'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      loading: true, \n      isLoggedIn: false,\n      user: {},\n      mode: '',\n      stocks: [],\n      portfolioCost: 0,\n      portfolioCurrentValue: 0\n    };\n  }\n\n  componentDidMount() {\n    this.loginStatus()\n  }\n\n  setMode = (modeText) => {\n    this.setState({\n      mode: modeText\n    })\n  }\n\n  updateUser = (user) => {\n    this.setState({\n      user: user\n    })\n  }\n\n  updateStocks = (stock, latestPrice) => {\n    this.setState({\n      stocks: [...this.state.stocks, { ...stock, current_price: latestPrice } ]\n    })\n  }\n\n  loginStatus = () => {\n    axios.get('https://ttp-live-backend.herokuapp.com/logged_in', {withCredentials: true})\n    .then(response => {\n      if (response.data.logged_in) {\n        this.handleLogin(response.data)\n      } else {\n        this.handleLogout()\n      }\n    })\n    .catch(error =>{\n      console.log('api errors:', error)\n    })\n  }\n\n  handleLogin = (data) => {\n    this.setState((prevState, props) => ({\n      isLoggedIn: true,\n      user: data.user, \n      mode: 'portfolio'\n    }))\n    if (data.user) {\n      this.getUserStocks(data.user.id)\n    }\n  }\n\n  getUserStocks = (id) => {\n    fetch(`https://ttp-live-backend.herokuapp.com/users/${id}`)\n    .then (resp => resp.json())\n    .then (json => {\n      this.setState((prevState, props) => ({\n        stocks: json.stocks,\n        portfolioCost: json.portfolio_cost,\n        portfolioCurrentValue: json.portfolio_current_value\n      }))\n      \n      let symbolList = json.stocks.map(s => s.symbol).join(',')\n\n      axios.get(`https://sandbox.iexapis.com/stable/stock/market/batch?symbols=${symbolList}&types=ohlc&token=Tpk_f60d00f3b3774527b14ddc2510d54b18`)\n      .then(response => {\n        // response contains OHLC data for each stock in our users portfolio\n\n        for (var key in response.data) {\n          // response.data[key].ohlc.open.price is the number we're looking for\n          let k = key   // assigning k to key to clear 'no-loop-func' eslint \n          let stockInState = this.state.stocks.find(s => s.symbol === k) // stock obj we are iterating on\n          let filteredState = this.state.stocks.filter(s => s.symbol !== k) // all others in the stocks array\n          let openPrice = response.data[key].ohlc.open.price // the open price\n\n          // set the state, using spread oeprator to add a new value to stock obj\n          this.setState({\n            stocks: [...filteredState, { ...stockInState, openPrice: openPrice  } ]\n          })\n        }\n      })\n    })\n  }\n\n  handleLogout = () => {\n    this.setState({\n      isLoggedIn: false,\n      user: {}\n    })\n  }\n\n  render() {\n    return (\n      <div id='wrapper'>\n        <BrowserRouter>\n          <Switch>\n            <Route \n              exact path='/login' \n              render={props => (\n              <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              exact path='/signup' \n              render={props => (\n              <Signup {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              path='/' \n              render={props => (\n              <Home {...props} {...this.state} updateUser={this.updateUser} updateStocks={this.updateStocks} handleLogout={this.handleLogout} userobj={this.state.user} setMode={this.setMode} modeStatus={this.state.mode} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}