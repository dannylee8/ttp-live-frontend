{"version":3,"sources":["components/TopMenu.js","components/SingleStock.js","components/SingleTransaction.js","components/LeftCol.js","components/RightCol.js","components/Home.js","components/registrations/Login.js","components/registrations/Signup.js","App.js","index.js"],"names":["TopMenu","props","setModeClick","event","setMode","target","innerHTML","toLowerCase","className","loggedInStatus","to","onClick","axios","delete","withCredentials","then","response","handleLogout","history","push","catch","error","console","log","commaNumber","require","SingleStock","symbol","shares","price","toFixed","SingleTransaction","parseFloat","LeftCol","modeStatus","portfolioCurrentValue","portfolioCost","id","stocks","map","s","key","current_price","RightCol","handleChange","name","value","setState","handleSubmit","preventDefault","state","ticker","quantity","this","userobj","cash","onSubmit","placeholder","type","onChange","Component","Home","redirect","Login","user","email","password","post","data","logged_in","handleLogin","errors","handleErrors","Signup","username","password_confirmation","status","App","modeText","mode","loginStatus","get","prevState","isLoggedIn","getUserStocks","fetch","resp","json","portfolio_cost","portfolio_current_value","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.49093f22.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nfunction TopMenu (props) {\n  const handleClick = () => {\n    axios.delete('http://localhost:3001/logout', { withCredentials: true })\n      .then(response => {\n        props.handleLogout()\n        props.history.push('/login')\n      })\n      .catch(error => console.log(error))\n  }\n\n  const setModeClick = (event) => {\n    props.setMode(event.target.innerHTML.toLowerCase())\n  }\n\n  return (\n    <div className='w3-bar top-menu'>\n      {/* {console.log(\"TopMenu: \", props)} */}\n      <span className='logo'>TTP Stock Trade</span>\n      {props.loggedInStatus\n        ?    \n        <>       \n          <Link to='/logout' onClick={handleClick}>\n            <button className=\"w3-bar-item w3-button w3-pale-blue w3-right w3-hover-pale-red\"><span className='glyphicon glyphicon-log-out' /> Log Out</button>\n          </Link>\n          <button onClick={setModeClick} className=\"w3-bar-item w3-button w3-light-grey w3-right w3-hover-pale-red\">Portfolio</button>\n          <button onClick={setModeClick} className=\"w3-bar-item w3-button w3-sand w3-right w3-hover-pale-red\">Transactions</button>\n        </>\n        : null}\n    </div>\n  )\n}\n\nexport default TopMenu\n","import React from 'react'\nvar commaNumber = require('comma-number')\n\nfunction SingleStock (props) {\n  return (\n    <tr>\n      <td>\n        {props.symbol}\n      </td>\n      <td>\n        {props.shares} shares\n      </td>\n      <td>\n        $ {commaNumber((props.shares * props.price).toFixed(2))}\n      </td>\n    </tr>\n  )\n}\n\nexport default SingleStock\n","import React from 'react'\n\nfunction SingleTransaction (props) {\n  return (\n    <tr>\n      <td>\n        BUY ({props.symbol})\n      </td>\n      <td>\n        {props.shares} shares @ ${parseFloat(props.price).toFixed(2)}\n      </td>\n    </tr>\n  )\n}\n\nexport default SingleTransaction\n","import React from 'react'\nimport SingleStock from './SingleStock'\nimport SingleTransaction from './SingleTransaction'\n\nvar commaNumber = require('comma-number')\n\nfunction LeftCol (props) {\n  return (\n    <div className='column left'>\n      {console.log(props)}\n      <br />\n      <br />\n      {props.modeStatus === 'portfolio' ? \n      <>\n        <h2>Portfolio</h2>\n        <h4>Current value: ${commaNumber(props.portfolioCurrentValue.toFixed(2))}</h4>\n        <h4>Portfolio Cost: ${commaNumber(props.portfolioCost)}</h4>\n        <table id='stocks'>\n          <tbody>\n            {props.stocks.map((s) => { \n              return <SingleStock key={s.id} symbol={s.symbol} shares={s.shares} price={s.current_price} />\n            })}\n          </tbody>\n        </table>\n      </>\n      : \n      <>\n        <h2>Transactions</h2>\n        <table id='stocks'>\n          <tbody>\n            {props.stocks.map((s) => { \n              return <SingleTransaction key={s.id} symbol={s.symbol} shares={s.shares} price={s.price} />\n            })}\n          </tbody>\n        </table>\n      </>\n      }\n    </div>\n  )\n}\n\nexport default LeftCol;","import React, { Component } from 'react';\n\nvar commaNumber = require('comma-number')\n\nclass RightCol extends Component {\n\n  constructor (props) {\n    super(props);\n    this.state = { \n      ticker: '',\n      quantity: ''\n    };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {ticker, quantity} = this.state\n    console.log(ticker, quantity)\n    // let user = {\n    //   email: email,\n    //   password: password\n    // }\n    // axios.post('http://localhost:3001/login', {user}, {withCredentials: true})\n    // .then(response => {\n    //   if (response.data.logged_in) {\n    //     this.props.handleLogin(response.data)\n    //     this.redirect()\n    //   } else {\n    //     this.setState({\n    //       errors: response.data.errors,\n    //       email: '',\n    //       password: ''\n    //     })\n    //   }\n    // })\n    // .catch(error => console.log('api errors:', error))\n  };\n\n  render() {\n    const {ticker, quantity} = this.state\n    return (\n      // Portfolio mode, show right column bg color and dividing line\n      <div className={`column ${(this.props.modeStatus === 'portfolio') ? 'right' : ''}`}>\n        {this.props.modeStatus === 'portfolio' ? \n        <>\n          <div className=\"cash-balance\">\n            Cash Balance: $ {this.props.userobj ? `${commaNumber(parseFloat(this.props.userobj.cash).toFixed(2))}` : null}\n          </div>\n          <br />\n          <div>\n            <form className=\"w3-container stock-form\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"Ticker symbol\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"ticker\"\n                value={ticker}\n                onChange={this.handleChange}\n              />\n              <br />\n              <input\n                  placeholder=\"Quantity\"\n                  className=\"w3-input w3-border w3-light-grey\"\n                  type=\"text\"\n                  name=\"quantity\"\n                  value={quantity}\n                  onChange={this.handleChange}\n              />\n              <br />\n              <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                Buy\n              </button>\n            </form>\n          </div>\n        </>\n        : null}\n      </div>\n    )\n  }\n}\n\nexport default RightCol;\n","import React, { Component } from 'react';\nimport TopMenu from './TopMenu'\nimport LeftCol from './LeftCol'\nimport RightCol from './RightCol'\n\nclass Home extends Component {\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? null : this.redirect()\n  }\n\n  redirect = () => {\n    this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div>\n        <TopMenu {...this.props} setMode={this.props.setMode} loggedInStatus={this.props.loggedInStatus} />\n        {this.props.loggedInStatus ? \n          <div className='row'>\n            <LeftCol {...this.props} userobj={this.props.userobj} modeStatus={this.props.modeStatus} />\n            <RightCol {...this.props} userobj={this.props.userobj} modeStatus={this.props.modeStatus} />\n          </div>\n          : null}\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nclass Login extends Component {\n  constructor (props) {\n    super(props);\n    this.state = { \n      email: '',\n      password: '',\n      errors: ''\n    };\n  }\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? this.redirect() : null\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {email, password} = this.state\n    let user = {\n      email: email,\n      password: password\n    }\n    axios.post('http://localhost:3001/login', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.logged_in) {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors,\n          email: '',\n          password: ''\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.props.history.push('/')\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul className='error-message'>\n        {this.state.errors.map(error => {\n        return <li key={error}>{error}</li>\n          })\n        }\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {email, password} = this.state\n    return (\n      <>\n        <div className='top-menu'>\n          <span className='logo'>TTP Stock Trade</span>\n        </div>\n        <div className='center' >\n          <div id=\"login_div\">\n            <h4>Sign In</h4>\n            <form className=\"w3-container\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"email\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n              />\n              <br></br>\n                <input\n                  placeholder=\"password\"\n                  className=\"w3-input w3-border w3-light-grey\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={this.handleChange}\n                />\n                <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                  Log In\n                </button>\n              <div>\n                or <Link to='/signup'>register</Link>\n              </div>\n              </form>\n            </div>\n            <div className='error-box'>\n            {\n              this.state.errors ? this.handleErrors() : null\n            }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? this.redirect() : null\n  }\n  \n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {username, email, password, password_confirmation} = this.state\n    let user = {\n      username: username,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation,\n      cash: 5000.00\n    }\n    axios.post('http://localhost:3001/users', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.status === 'created') {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors,\n          username: '',\n          email: '',\n          password: '',\n          password_confirmation: ''\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.props.history.push('/')\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul className='error-message'>{this.state.errors.map((error) => {\n          return <li key={error}>{error}</li>\n        })}</ul> \n      </div>\n    )\n  }\n\n  render() {\n    const {username, email, password, password_confirmation} = this.state\n    return (\n      <>\n        <div className='top-menu'>\n            <span className='logo'>TTP Stock Trade</span>\n        </div>\n        <div className='center'>\n          <div id=\"login_div\">\n            <h4>Register</h4>\n            <form className=\"w3-container\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"username\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"username\"\n                value={username}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"email\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n              />\n              <input \n                placeholder=\"password\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password confirmation\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n              />\n            \n              <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                Sign Up\n              </button>\n              <div>\n                or <Link to='/login'>login</Link>\n              </div>\n            </form>\n            <br />\n          </div>\n          <div className='error-box'>\n            {\n              this.state.errors ? this.handleErrors() : null\n            }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Signup;","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Home from './components/Home'\nimport Login from './components/registrations/Login'\nimport Signup from './components/registrations/Signup'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      isLoggedIn: false,\n      user: {},\n      mode: '',\n      stocks: [],\n      portfolioCost: 0,\n      portfolioCurrentValue: 0\n    };\n  }\n\n  componentDidMount() {\n    this.loginStatus()\n  }\n\n  setMode = (modeText) => {\n    this.setState({\n      mode: modeText\n    })\n  }\n\n  loginStatus = () => {\n    axios.get('http://localhost:3001/logged_in', {withCredentials: true})\n    .then(response => {\n      if (response.data.logged_in) {\n        this.handleLogin(response)\n      } else {\n        this.handleLogout()\n      }\n    })\n    .catch(error =>{\n      console.log('api errors:', error)\n    })\n  }\n\n  handleLogin = (data) => {\n    this.setState((prevState, props) => ({\n      isLoggedIn: true,\n      user: data.user, \n      mode: 'portfolio'\n    }))\n    if (data.user) {\n      this.getUserStocks(data.user.id)\n    }\n  }\n\n  getUserStocks = (id) => {\n    fetch(`http://localhost:3001/users/${id}`)\n    .then (resp => resp.json())\n    .then (json => {\n      this.setState((prevState, props) => ({\n        stocks: json.stocks,\n        portfolioCost: json.portfolio_cost,\n        portfolioCurrentValue: json.portfolio_current_value\n      }))\n    })\n  }\n\n  handleLogout = () => {\n    this.setState({\n      isLoggedIn: false,\n      user: {}\n    })\n  }\n\n  render() {\n    return (\n      <div id='wrapper'>\n        <BrowserRouter>\n          <Switch>\n            <Route \n              exact path='/login' \n              render={props => (\n              <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              exact path='/signup' \n              render={props => (\n              <Signup {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              path='/' \n              render={props => (\n              <Home {...props} {...this.state} handleLogout={this.handleLogout} userobj={this.state.user} setMode={this.setMode} modeStatus={this.state.mode} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}