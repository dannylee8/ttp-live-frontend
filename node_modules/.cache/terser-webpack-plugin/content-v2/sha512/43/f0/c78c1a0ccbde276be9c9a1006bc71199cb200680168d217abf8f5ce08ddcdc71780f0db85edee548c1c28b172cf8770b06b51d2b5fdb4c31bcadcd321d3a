{"map":{"version":3,"sources":["static/js/main.6cbf009e.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","63","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","toConsumableArray","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","inherits","react_router_dom","react_router","axios","axios_default","defineProperty","registrations_Signup","_Component","Signup","props","_this","Object","call","handleChange","event","_event$target","target","name","value","setState","handleSubmit","preventDefault","_this$state","state","user","username","email","password","password_confirmation","cash","a","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","handleErrors","createElement","className","map","key","loggedInStatus","_this$state2","Fragment","id","onSubmit","placeholder","type","onChange","to","registrations_Login","Login","logged_in","components_TopMenu","setModeClick","setMode","innerHTML","toLowerCase","onClick","delete","handleLogout","commaNumber","components_SingleStock","currentPrice","openPrice","symbol","shares","toFixed","components_SingleTransaction","parseFloat","price","LeftCol_commaNumber","components_LeftCol","modeStatus","portfolioCurrentValue","portfolioCost","stocks","s","current_price","RightCol_commaNumber","HEADERS","content-type","accept","components_RightCol","RightCol","ticker","quantity","Number","isInteger","alert","get","concat","orderCost","latestPrice","newBalance","placeOrder","userID","_this2","fetch","method","headers","body","JSON","stringify","resp","json","updateUser","toUpperCase","user_id","updateStocks","stock","userobj","components_Home","Home","_getPrototypeOf2","_len","arguments","length","args","Array","_key","apply","assign","src_App","App","modeText","mode","loginStatus","prevState","isLoggedIn","getUserStocks","portfolio_cost","portfolio_current_value","symbolList","join","_loop","k","stockInState","find","filteredState","filter","ohlc","open","loading","exact","path","render","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,a){e.exports=a(63)},63:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(33),s=a.n(o),l=a(19),c=a(22),i=a(6),u=a(7),p=a(9),d=a(8),m=a(10),h=a(13),g=a(14),b=a(5),f=a.n(b),E=a(12),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={username:t.username,email:t.email,password:t.password,password_confirmation:t.password_confirmation,cash:5e3};f.a.post(\"https://ttp-live-backend.herokuapp.com/users\",{user:n},{withCredentials:!0}).then((function(e){\"created\"===e.data.status?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors,username:\"\",email:\"\",password:\"\",password_confirmation:\"\"})})).catch((function(e){return console.log(\"api errors:\",e)}))},a.redirect=function(){a.props.history.push(\"/\")},a.handleErrors=function(){return r.a.createElement(\"div\",null,r.a.createElement(\"ul\",{className:\"error-message\"},a.state.errors.map((function(e){return r.a.createElement(\"li\",{key:e},e)}))))},a.state={username:\"\",email:\"\",password:\"\",password_confirmation:\"\",errors:\"\"},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return this.props.loggedInStatus?this.redirect():null}},{key:\"render\",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password,o=e.password_confirmation;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\")),r.a.createElement(\"div\",{className:\"center\"},r.a.createElement(\"div\",{id:\"login_div\"},r.a.createElement(\"h4\",null,\"Register\"),r.a.createElement(\"form\",{className:\"w3-container\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"username\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"username\",value:t,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"email\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"email\",value:a,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"password\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password\",value:n,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"password confirmation\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password_confirmation\",value:o,onChange:this.handleChange}),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Sign Up\"),r.a.createElement(\"div\",null,\"or \",r.a.createElement(h.b,{to:\"/login\"},\"login\"))),r.a.createElement(\"br\",null)),r.a.createElement(\"div\",{className:\"error-box\"},this.state.errors?this.handleErrors():null)))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};f.a.post(\"https://ttp-live-backend.herokuapp.com/login\",{user:n},{withCredentials:!0}).then((function(e){e.data.logged_in?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors,email:\"\",password:\"\"})})).catch((function(e){return console.log(\"api errors:\",e)}))},a.redirect=function(){a.props.history.push(\"/\")},a.handleErrors=function(){return r.a.createElement(\"div\",null,r.a.createElement(\"ul\",{className:\"error-message\"},a.state.errors.map((function(e){return r.a.createElement(\"li\",{key:e},e)}))))},a.state={email:\"\",password:\"\",errors:\"\"},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return console.log(this.props.loggedInStatus),this.props.loggedInStatus?this.redirect():null}},{key:\"render\",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\")),r.a.createElement(\"div\",{className:\"center\"},r.a.createElement(\"div\",{id:\"login_div\"},r.a.createElement(\"h4\",null,\"Sign In\"),r.a.createElement(\"form\",{className:\"w3-container\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"email\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"email\",value:t,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"input\",{placeholder:\"password\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password\",value:a,onChange:this.handleChange}),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Log In\"),r.a.createElement(\"div\",null,\"or \",r.a.createElement(h.b,{to:\"/signup\"},\"register\")))),r.a.createElement(\"div\",{className:\"error-box\"},this.state.errors?this.handleErrors():null)))}}]),t}(n.Component);var y=function(e){var t=function(t){e.setMode(t.target.innerHTML.toLowerCase())};return r.a.createElement(\"div\",{className:\"w3-bar top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\"),e.loggedInStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b,{to:\"/logout\",onClick:function(){f.a.delete(\"https://ttp-live-backend.herokuapp.com/logout\",{withCredentials:!0}).then((function(t){e.handleLogout(),e.history.push(\"/login\")})).catch((function(e){return console.log(e)}))}},r.a.createElement(\"button\",{className:\"w3-bar-item w3-button w3-pale-blue w3-right w3-hover-pale-red\"},r.a.createElement(\"span\",{className:\"glyphicon glyphicon-log-out\"}),\" Log Out\")),r.a.createElement(\"button\",{onClick:t,className:\"w3-bar-item w3-button w3-light-grey w3-right w3-hover-pale-red\"},\"Portfolio\"),r.a.createElement(\"button\",{onClick:t,className:\"w3-bar-item w3-button w3-sand w3-right w3-hover-pale-red\"},\"Transactions\")):null)},k=a(18);var S=function(e){return console.log(e),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",{className:e.currentPrice>e.openPrice?\"green\":e.currentPrice===e.openPrice?\"gray\":\"red\"},e.symbol),r.a.createElement(\"td\",null,e.shares,\" shares\"),r.a.createElement(\"td\",{className:e.currentPrice>e.openPrice?\"green\":e.currentPrice===e.openPrice?\"gray\":\"red\"},\"$ \",k((e.shares*e.currentPrice).toFixed(2))))};var j=function(e){return r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"BUY (\",e.symbol,\")\"),r.a.createElement(\"td\",null,e.shares,\" shares @ $\",parseFloat(e.price).toFixed(2)))},O=a(18);var C=function(e){return r.a.createElement(\"div\",{className:\"column left\"},r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\"portfolio\"===e.modeStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Portfolio\"),r.a.createElement(\"h4\",null,\"Current value: $\",O(e.portfolioCurrentValue.toFixed(2))),r.a.createElement(\"h4\",null,\"Portfolio Cost: $\",O(e.portfolioCost)),r.a.createElement(\"table\",{id:\"stocks\"},r.a.createElement(\"tbody\",null,e.stocks.map((function(e){return r.a.createElement(S,{key:e.id,symbol:e.symbol,shares:e.shares,currentPrice:e.current_price,openPrice:e.openPrice})}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Transactions\"),r.a.createElement(\"table\",{id:\"stocks\"},r.a.createElement(\"tbody\",null,e.stocks.map((function(e){return r.a.createElement(j,{key:e.id,symbol:e.symbol,shares:e.shares,price:e.price})}))))))},N=a(18),P={\"content-type\":\"application/json\",accept:\"application/json\"},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.ticker,r=t.quantity;n?!r||!Number.isInteger(Number(r))||r<0?alert(\"Please enter quantity of shares\"):f.a.get(\"https://sandbox.iexapis.com/stable/stock/\".concat(n,\"/quote?token=Tpk_f60d00f3b3774527b14ddc2510d54b18\")).then((function(e){if(e.data.symbol){var t=(e.data.latestPrice*r).toFixed(2),o=a.props.user.cash-t;if(!(o>0))return void alert(\"Insufficient funds\");a.setState({ticker:\"\",quantity:\"\"}),a.placeOrder(a.props.user.id,o,n,r,e.data.latestPrice)}else a.setState({errors:\"no such ticker\",ticker:\"\",quantity:\"\"})})).catch((function(e){console.log(\"api errors:\",e),alert(\"Please enter a valid stock ticker symbol\")})):alert(\"Please enter a valid stock ticker symbol.\")},a.state={ticker:\"\",quantity:\"\"},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"placeOrder\",value:function(e,t,a,n,r){var o=this;fetch(\"https://ttp-live-backend.herokuapp.com/users/\".concat(e),{method:\"PATCH\",headers:P,body:JSON.stringify({cash:t})}).then((function(e){return e.json()})).then((function(e){o.props.updateUser(e.user)})),fetch(\"https://ttp-live-backend.herokuapp.com/stocks\",{method:\"POST\",headers:P,body:JSON.stringify({symbol:a.toUpperCase(),shares:n,price:r,user_id:e})}).then((function(e){return e.json()})).then((function(e){o.props.updateStocks(e.stock,r)}))}},{key:\"render\",value:function(){var e=this.state,t=e.ticker,a=e.quantity;return(r.a.createElement(\"div\",{className:\"column \".concat(\"portfolio\"===this.props.modeStatus?\"right\":\"\")},\"portfolio\"===this.props.modeStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"cash-balance\"},\"Cash Balance: $ \",this.props.userobj?\"\".concat(N(parseFloat(this.props.userobj.cash).toFixed(2))):null),r.a.createElement(\"br\",null),r.a.createElement(\"div\",null,r.a.createElement(\"form\",{className:\"w3-container stock-form\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"Ticker symbol\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"ticker\",value:t,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"input\",{placeholder:\"Quantity\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"quantity\",value:a,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Buy\")))):null))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(){a.props.history.push(\"/login\")},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return this.props.loggedInStatus?null:this.redirect()}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(y,Object.assign({},this.props,{setMode:this.props.setMode,loggedInStatus:this.props.loggedInStatus})),this.props.loggedInStatus?r.a.createElement(\"div\",{className:\"row\"},r.a.createElement(C,Object.assign({},this.props,{userobj:this.props.userobj,modeStatus:this.props.modeStatus})),r.a.createElement(L,Object.assign({},this.props,{updateUser:this.props.updateUser,userobj:this.props.userobj,modeStatus:this.props.modeStatus}))):null)}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setMode=function(e){a.setState({mode:e})},a.updateUser=function(e){a.setState({user:e})},a.updateStocks=function(e,t){a.setState({stocks:[].concat(Object(c.a)(a.state.stocks),[Object(l.a)({},e,{current_price:t})])})},a.loginStatus=function(){f.a.get(\"https://ttp-live-backend.herokuapp.com/logged_in\",{withCredentials:!0}).then((function(e){e.data.logged_in?a.handleLogin(e.data):a.handleLogout()})).catch((function(e){console.log(\"api errors:\",e)}))},a.handleLogin=function(e){a.setState((function(t,a){return{isLoggedIn:!0,user:e.user,mode:\"portfolio\"}})),e.user&&a.getUserStocks(e.user.id)},a.getUserStocks=function(e){fetch(\"https://ttp-live-backend.herokuapp.com/users/\".concat(e)).then((function(e){return e.json()})).then((function(e){a.setState((function(t,a){return{stocks:e.stocks,portfolioCost:e.portfolio_cost,portfolioCurrentValue:e.portfolio_current_value}}));var t=e.stocks.map((function(e){return e.symbol})).join(\",\");f.a.get(\"https://sandbox.iexapis.com/stable/stock/market/batch?symbols=\".concat(t,\"&types=ohlc&token=Tpk_f60d00f3b3774527b14ddc2510d54b18\")).then((function(e){var t=function(){var t=n,r=a.state.stocks.find((function(e){return e.symbol===t})),o=a.state.stocks.filter((function(e){return e.symbol!==t})),s=e.data[n].ohlc.open.price;a.setState({stocks:[].concat(Object(c.a)(o),[Object(l.a)({},r,{openPrice:s})])})};for(var n in e.data)t()}))}))},a.handleLogout=function(){a.setState({isLoggedIn:!1,user:{}})},a.state={isLoggedIn:!1,loading:!0,mode:\"\",portfolioCost:0,portfolioCurrentValue:0,stocks:[],user:{}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:\"componentDidMount\",value:function(){this.loginStatus()}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{id:\"wrapper\"},r.a.createElement(h.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:\"/login\",render:function(t){return r.a.createElement(w,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(g.a,{exact:!0,path:\"/signup\",render:function(t){return r.a.createElement(v,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(g.a,{path:\"/\",render:function(t){return r.a.createElement(I,Object.assign({},t,e.state,{updateUser:e.updateUser,updateStocks:e.updateStocks,handleLogout:e.handleLogout,userobj:e.state.user,setMode:e.setMode,modeStatus:e.state.mode,loggedInStatus:e.state.isLoggedIn}))}}))))}}]),t}(n.Component);s.a.render(r.a.createElement(x,null),document.getElementById(\"root\"))}},[[36,1,2]]]);","extractedComments":[]}