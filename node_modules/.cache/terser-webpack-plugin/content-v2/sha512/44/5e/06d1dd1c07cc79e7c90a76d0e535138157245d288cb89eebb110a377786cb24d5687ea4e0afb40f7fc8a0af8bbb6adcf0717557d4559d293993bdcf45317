{"map":{"version":3,"sources":["static/js/main.5b361c05.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","63","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","toConsumableArray","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","inherits","axios","axios_default","react_router_dom","react_router","components_TopMenu","props","setModeClick","event","setMode","target","innerHTML","toLowerCase","a","createElement","className","loggedInStatus","Fragment","to","onClick","delete","withCredentials","then","response","handleLogout","history","catch","error","console","log","commaNumber","components_SingleStock","currentPrice","openPrice","symbol","shares","toFixed","components_SingleTransaction","parseFloat","price","LeftCol_commaNumber","components_LeftCol","modeStatus","portfolioCurrentValue","portfolioCost","id","stocks","map","s","key","current_price","defineProperty","RightCol_commaNumber","HEADERS","content-type","accept","components_RightCol","_Component","RightCol","_this","Object","call","handleChange","_event$target","name","value","setState","handleSubmit","preventDefault","_this$state","state","ticker","quantity","Number","isInteger","alert","get","concat","data","orderCost","latestPrice","newBalance","user","cash","placeOrder","errors","userID","_this2","fetch","method","headers","body","JSON","stringify","resp","json","updateUser","toUpperCase","user_id","updateStocks","stock","_this$state2","userobj","onSubmit","placeholder","type","onChange","components_Home","Home","_getPrototypeOf2","_len","arguments","length","args","Array","_key","apply","redirect","assign","registrations_Login","Login","email","password","post","logged_in","handleLogin","handleErrors","registrations_Signup","Signup","username","password_confirmation","status","src_App","App","modeText","mode","loginStatus","prevState","isLoggedIn","getUserStocks","portfolio_cost","portfolio_current_value","symbolList","join","_loop","k","stockInState","find","filteredState","filter","ohlc","open","loading","exact","path","render","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,a){e.exports=a(63)},63:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(33),s=a.n(o),l=a(19),c=a(22),i=a(6),u=a(7),m=a(9),p=a(8),d=a(10),h=a(5),g=a.n(h),b=a(13),f=a(14);var E=function(e){var t=function(t){e.setMode(t.target.innerHTML.toLowerCase())};return r.a.createElement(\"div\",{className:\"w3-bar top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\"),e.loggedInStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{to:\"/logout\",onClick:function(){g.a.delete(\"https://ttp-live-backend.herokuapp.com/logout\",{withCredentials:!0}).then((function(t){e.handleLogout(),e.history.push(\"/login\")})).catch((function(e){return console.log(e)}))}},r.a.createElement(\"button\",{className:\"w3-bar-item w3-button w3-pale-blue w3-right w3-hover-pale-red\"},r.a.createElement(\"span\",{className:\"glyphicon glyphicon-log-out\"}),\" Log Out\")),r.a.createElement(\"button\",{onClick:t,className:\"w3-bar-item w3-button w3-light-grey w3-right w3-hover-pale-red\"},\"Portfolio\"),r.a.createElement(\"button\",{onClick:t,className:\"w3-bar-item w3-button w3-sand w3-right w3-hover-pale-red\"},\"Transactions\")):null)},v=a(18);var w=function(e){return console.log(e),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",{className:e.currentPrice>e.openPrice?\"green\":e.currentPrice===e.openPrice?\"gray\":\"red\"},e.symbol),r.a.createElement(\"td\",null,e.shares,\" shares\"),r.a.createElement(\"td\",{className:e.currentPrice>e.openPrice?\"green\":e.currentPrice===e.openPrice?\"gray\":\"red\"},\"$ \",v((e.shares*e.currentPrice).toFixed(2))))};var y=function(e){return r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"BUY (\",e.symbol,\")\"),r.a.createElement(\"td\",null,e.shares,\" shares @ $\",parseFloat(e.price).toFixed(2)))},k=a(18);var S=function(e){return r.a.createElement(\"div\",{className:\"column left\"},r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\"portfolio\"===e.modeStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Portfolio\"),r.a.createElement(\"h4\",null,\"Current value: $\",k(e.portfolioCurrentValue.toFixed(2))),r.a.createElement(\"h4\",null,\"Portfolio Cost: $\",k(e.portfolioCost)),r.a.createElement(\"table\",{id:\"stocks\"},r.a.createElement(\"tbody\",null,e.stocks.map((function(e){return r.a.createElement(w,{key:e.id,symbol:e.symbol,shares:e.shares,currentPrice:e.current_price,openPrice:e.openPrice})}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Transactions\"),r.a.createElement(\"table\",{id:\"stocks\"},r.a.createElement(\"tbody\",null,e.stocks.map((function(e){return r.a.createElement(y,{key:e.id,symbol:e.symbol,shares:e.shares,price:e.price})}))))))},j=a(12),O=a(18),C={\"content-type\":\"application/json\",accept:\"application/json\"},N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(j.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.ticker,r=t.quantity;n?!r||!Number.isInteger(Number(r))||r<0?alert(\"Please enter quantity of shares\"):g.a.get(\"https://sandbox.iexapis.com/stable/stock/\".concat(n,\"/quote?token=Tpk_f60d00f3b3774527b14ddc2510d54b18\")).then((function(e){if(e.data.symbol){var t=(e.data.latestPrice*r).toFixed(2),o=a.props.user.cash-t;if(!(o>0))return void alert(\"Insufficient funds\");a.setState({ticker:\"\",quantity:\"\"}),a.placeOrder(a.props.user.id,o,n,r,e.data.latestPrice)}else a.setState({errors:\"no such ticker\",ticker:\"\",quantity:\"\"})})).catch((function(e){console.log(\"api errors:\",e),alert(\"Please enter a valid stock ticker symbol\")})):alert(\"Please enter a valid stock ticker symbol.\")},a.state={ticker:\"\",quantity:\"\"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:\"placeOrder\",value:function(e,t,a,n,r){var o=this;fetch(\"https://ttp-live-backend.herokuapp.com/users/\".concat(e),{method:\"PATCH\",headers:C,body:JSON.stringify({cash:t})}).then((function(e){return e.json()})).then((function(e){o.props.updateUser(e.user)})),fetch(\"https://ttp-live-backend.herokuapp.com/stocks\",{method:\"POST\",headers:C,body:JSON.stringify({symbol:a.toUpperCase(),shares:n,price:r,user_id:e})}).then((function(e){return e.json()})).then((function(e){o.props.updateStocks(e.stock,r)}))}},{key:\"render\",value:function(){var e=this.state,t=e.ticker,a=e.quantity;return(r.a.createElement(\"div\",{className:\"column \".concat(\"portfolio\"===this.props.modeStatus?\"right\":\"\")},\"portfolio\"===this.props.modeStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"cash-balance\"},\"Cash Balance: $ \",this.props.userobj?\"\".concat(O(parseFloat(this.props.userobj.cash).toFixed(2))):null),r.a.createElement(\"br\",null),r.a.createElement(\"div\",null,r.a.createElement(\"form\",{className:\"w3-container stock-form\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"Ticker symbol\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"ticker\",value:t,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"input\",{placeholder:\"Quantity\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"quantity\",value:a,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Buy\")))):null))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(){a.props.history.push(\"/login\")},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return this.props.loggedInStatus?null:this.redirect()}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(E,Object.assign({},this.props,{setMode:this.props.setMode,loggedInStatus:this.props.loggedInStatus})),this.props.loggedInStatus?r.a.createElement(\"div\",{className:\"row\"},r.a.createElement(S,Object.assign({},this.props,{userobj:this.props.userobj,modeStatus:this.props.modeStatus})),r.a.createElement(N,Object.assign({},this.props,{updateUser:this.props.updateUser,userobj:this.props.userobj,modeStatus:this.props.modeStatus}))):null)}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(j.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};g.a.post(\"https://ttp-live-backend.herokuapp.com/login\",{user:n},{withCredentials:!0}).then((function(e){e.data.logged_in?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors,email:\"\",password:\"\"})})).catch((function(e){return console.log(\"api errors:\",e)}))},a.redirect=function(){a.props.history.push(\"/\")},a.handleErrors=function(){return r.a.createElement(\"div\",null,r.a.createElement(\"ul\",{className:\"error-message\"},a.state.errors.map((function(e){return r.a.createElement(\"li\",{key:e},e)}))))},a.state={email:\"\",password:\"\",errors:\"\"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return this.props.loggedInStatus?this.redirect():null}},{key:\"render\",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\")),r.a.createElement(\"div\",{className:\"center\"},r.a.createElement(\"div\",{id:\"login_div\"},r.a.createElement(\"h4\",null,\"Sign In\"),r.a.createElement(\"form\",{className:\"w3-container\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"email\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"email\",value:t,onChange:this.handleChange}),r.a.createElement(\"br\",null),r.a.createElement(\"input\",{placeholder:\"password\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password\",value:a,onChange:this.handleChange}),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Log In\"),r.a.createElement(\"div\",null,\"or \",r.a.createElement(b.b,{to:\"/signup\"},\"register\")))),r.a.createElement(\"div\",{className:\"error-box\"},this.state.errors?this.handleErrors():null)))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(j.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={username:t.username,email:t.email,password:t.password,password_confirmation:t.password_confirmation,cash:5e3};g.a.post(\"https://ttp-live-backend.herokuapp.com/users\",{user:n},{withCredentials:!0}).then((function(e){\"created\"===e.data.status?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors,username:\"\",email:\"\",password:\"\",password_confirmation:\"\"})})).catch((function(e){return console.log(\"api errors:\",e)}))},a.redirect=function(){a.props.history.push(\"/\")},a.handleErrors=function(){return r.a.createElement(\"div\",null,r.a.createElement(\"ul\",{className:\"error-message\"},a.state.errors.map((function(e){return r.a.createElement(\"li\",{key:e},e)}))))},a.state={username:\"\",email:\"\",password:\"\",password_confirmation:\"\",errors:\"\"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:\"componentDidUpdate\",value:function(){return this.props.loggedInStatus?this.redirect():null}},{key:\"render\",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password,o=e.password_confirmation;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"top-menu\"},r.a.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\")),r.a.createElement(\"div\",{className:\"center\"},r.a.createElement(\"div\",{id:\"login_div\"},r.a.createElement(\"h4\",null,\"Register\"),r.a.createElement(\"form\",{className:\"w3-container\",onSubmit:this.handleSubmit},r.a.createElement(\"input\",{placeholder:\"username\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"username\",value:t,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"email\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"email\",value:a,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"password\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password\",value:n,onChange:this.handleChange}),r.a.createElement(\"input\",{placeholder:\"password confirmation\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password_confirmation\",value:o,onChange:this.handleChange}),r.a.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Sign Up\"),r.a.createElement(\"div\",null,\"or \",r.a.createElement(b.b,{to:\"/login\"},\"login\"))),r.a.createElement(\"br\",null)),r.a.createElement(\"div\",{className:\"error-box\"},this.state.errors?this.handleErrors():null)))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).setMode=function(e){a.setState({mode:e})},a.updateUser=function(e){a.setState({user:e})},a.updateStocks=function(e,t){a.setState({stocks:[].concat(Object(c.a)(a.state.stocks),[Object(l.a)({},e,{current_price:t})])})},a.loginStatus=function(){g.a.get(\"https://ttp-live-backend.herokuapp.com/logged_in\",{withCredentials:!0}).then((function(e){e.data.logged_in?a.handleLogin(e.data):a.handleLogout()})).catch((function(e){console.log(\"api errors:\",e)}))},a.handleLogin=function(e){a.setState((function(t,a){return{isLoggedIn:!0,user:e.user,mode:\"portfolio\"}})),e.user&&a.getUserStocks(e.user.id)},a.getUserStocks=function(e){fetch(\"https://ttp-live-backend.herokuapp.com/users/\".concat(e)).then((function(e){return e.json()})).then((function(e){a.setState((function(t,a){return{stocks:e.stocks,portfolioCost:e.portfolio_cost,portfolioCurrentValue:e.portfolio_current_value}}));var t=e.stocks.map((function(e){return e.symbol})).join(\",\");g.a.get(\"https://sandbox.iexapis.com/stable/stock/market/batch?symbols=\".concat(t,\"&types=ohlc&token=Tpk_f60d00f3b3774527b14ddc2510d54b18\")).then((function(e){var t=function(){var t=n,r=a.state.stocks.find((function(e){return e.symbol===t})),o=a.state.stocks.filter((function(e){return e.symbol!==t})),s=e.data[n].ohlc.open.price;a.setState({stocks:[].concat(Object(c.a)(o),[Object(l.a)({},r,{openPrice:s})])})};for(var n in e.data)t()}))}))},a.handleLogout=function(){a.setState({isLoggedIn:!1,user:{}})},a.state={loading:!0,isLoggedIn:!1,user:{},mode:\"\",stocks:[],portfolioCost:0,portfolioCurrentValue:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:\"componentDidMount\",value:function(){this.loginStatus()}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{id:\"wrapper\"},r.a.createElement(b.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:\"/login\",render:function(t){return r.a.createElement(L,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(f.a,{exact:!0,path:\"/signup\",render:function(t){return r.a.createElement(I,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(f.a,{path:\"/\",render:function(t){return r.a.createElement(P,Object.assign({},t,e.state,{updateUser:e.updateUser,updateStocks:e.updateStocks,handleLogout:e.handleLogout,userobj:e.state.user,setMode:e.setMode,modeStatus:e.state.mode,loggedInStatus:e.state.isLoggedIn}))}}))))}}]),t}(n.Component);s.a.render(r.a.createElement(x,null),document.getElementById(\"root\"))}},[[36,1,2]]]);","extractedComments":[]}