{"ast":null,"code":"import _defineProperty from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/dannylee/git/ttp-live/ttp-live-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,email=_this$state.email,password=_this$state.password,password_confirmation=_this$state.password_confirmation;var user={username:username,email:email,password:password,password_confirmation:password_confirmation,cash:5000.00};axios.post('https://ttp-live-backend.herokuapp.com/users',{user:user},{withCredentials:true}).then(function(response){if(response.data.status==='created'){_this.props.handleLogin(response.data);_this.redirect();}else{_this.setState({errors:response.data.errors,username:'',email:'',password:'',password_confirmation:''});}}).catch(function(error){return console.log('api errors:',error);});};_this.redirect=function(){_this.props.history.push('/');};_this.handleErrors=function(){return React.createElement(\"div\",null,React.createElement(\"ul\",{className:\"error-message\"},_this.state.errors.map(function(error){return React.createElement(\"li\",{key:error},error);})));};_this.state={username:'',email:'',password:'',password_confirmation:'',errors:''};return _this;}_createClass(Signup,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){return this.props.loggedInStatus?this.redirect():null;}},{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,email=_this$state2.email,password=_this$state2.password,password_confirmation=_this$state2.password_confirmation;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"top-menu\"},React.createElement(\"span\",{className:\"logo\"},\"TTP Stock Trade\")),React.createElement(\"div\",{className:\"center\"},React.createElement(\"div\",{id:\"login_div\"},React.createElement(\"h4\",null,\"Register\"),React.createElement(\"form\",{className:\"w3-container\",onSubmit:this.handleSubmit},React.createElement(\"input\",{placeholder:\"username\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"username\",value:username,onChange:this.handleChange}),React.createElement(\"input\",{placeholder:\"email\",className:\"w3-input w3-border w3-light-grey\",type:\"text\",name:\"email\",value:email,onChange:this.handleChange}),React.createElement(\"input\",{placeholder:\"password\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password\",value:password,onChange:this.handleChange}),React.createElement(\"input\",{placeholder:\"password confirmation\",className:\"w3-input w3-border w3-light-grey\",type:\"password\",name:\"password_confirmation\",value:password_confirmation,onChange:this.handleChange}),React.createElement(\"button\",{className:\"w3-btn w3-round-large w3-blue-grey\",placeholder:\"submit\",type:\"submit\"},\"Sign Up\"),React.createElement(\"div\",null,\"or \",React.createElement(Link,{to:\"/login\"},\"login\"))),React.createElement(\"br\",null)),React.createElement(\"div\",{className:\"error-box\"},this.state.errors?this.handleErrors():null)));}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/Users/dannylee/git/ttp-live/ttp-live-frontend/src/components/registrations/Signup.js"],"names":["React","Component","axios","Link","Signup","props","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","state","username","email","password","password_confirmation","user","cash","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","push","handleErrors","map","loggedInStatus"],"mappings":"sxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,GAEMC,CAAAA,M,gEACJ,gBAAYC,KAAZ,CAAmB,wCACjB,wEAAMA,KAAN,GADiB,MAenBC,YAfmB,CAeJ,SAACC,KAAD,CAAW,mBACFA,KAAK,CAACC,MADJ,CACjBC,IADiB,eACjBA,IADiB,CACXC,KADW,eACXA,KADW,CAExB,MAAKC,QAAL,oBACGF,IADH,CACUC,KADV,GAGD,CApBkB,OAsBnBE,YAtBmB,CAsBJ,SAACL,KAAD,CAAW,CACxBA,KAAK,CAACM,cAAN,GADwB,gBAEmC,MAAKC,KAFxC,CAEjBC,QAFiB,aAEjBA,QAFiB,CAEPC,KAFO,aAEPA,KAFO,CAEAC,QAFA,aAEAA,QAFA,CAEUC,qBAFV,aAEUA,qBAFV,CAGxB,GAAIC,CAAAA,IAAI,CAAG,CACTJ,QAAQ,CAAEA,QADD,CAETC,KAAK,CAAEA,KAFE,CAGTC,QAAQ,CAAEA,QAHD,CAITC,qBAAqB,CAAEA,qBAJd,CAKTE,IAAI,CAAE,OALG,CAAX,CAOAlB,KAAK,CAACmB,IAAN,CAAW,8CAAX,CAA2D,CAACF,IAAI,CAAJA,IAAD,CAA3D,CAAmE,CAACG,eAAe,CAAE,IAAlB,CAAnE,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,GAAyB,SAA7B,CAAwC,CACtC,MAAKrB,KAAL,CAAWsB,WAAX,CAAuBH,QAAQ,CAACC,IAAhC,EACA,MAAKG,QAAL,GACD,CAHD,IAGO,CACL,MAAKjB,QAAL,CAAc,CACZkB,MAAM,CAAEL,QAAQ,CAACC,IAAT,CAAcI,MADV,CAEZd,QAAQ,CAAE,EAFE,CAGZC,KAAK,CAAE,EAHK,CAIZC,QAAQ,CAAE,EAJE,CAKZC,qBAAqB,CAAE,EALX,CAAd,EAOD,CACF,CAdD,EAeCY,KAfD,CAeO,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,KAA3B,CAAJ,EAfZ,EAgBD,CAhDkB,OAkDnBH,QAlDmB,CAkDR,UAAM,CACf,MAAKvB,KAAL,CAAW6B,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CApDkB,OAsDnBC,YAtDmB,CAsDJ,UAAM,CACnB,MACE,gCACE,0BAAI,SAAS,CAAC,eAAd,EAA+B,MAAKtB,KAAL,CAAWe,MAAX,CAAkBQ,GAAlB,CAAsB,SAACN,KAAD,CAAW,CAC9D,MAAO,2BAAI,GAAG,CAAEA,KAAT,EAAiBA,KAAjB,CAAP,CACD,CAF8B,CAA/B,CADF,CADF,CAOD,CA9DkB,CAEjB,MAAKjB,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,KAAK,CAAE,EAFI,CAGXC,QAAQ,CAAE,EAHC,CAIXC,qBAAqB,CAAE,EAJZ,CAKXW,MAAM,CAAE,EALG,CAAb,CAFiB,aASlB,C,kFAEoB,CACnB,MAAO,MAAKxB,KAAL,CAAWiC,cAAX,CAA4B,KAAKV,QAAL,EAA5B,CAA8C,IAArD,CACD,C,uCAmDQ,kBACoD,KAAKd,KADzD,CACAC,QADA,cACAA,QADA,CACUC,KADV,cACUA,KADV,CACiBC,QADjB,cACiBA,QADjB,CAC2BC,qBAD3B,cAC2BA,qBAD3B,CAEP,MACE,yCACE,2BAAK,SAAS,CAAC,UAAf,EACI,4BAAM,SAAS,CAAC,MAAhB,oBADJ,CADF,CAIE,2BAAK,SAAS,CAAC,QAAf,EACE,2BAAK,EAAE,CAAC,WAAR,EACE,yCADF,CAEE,4BAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAE,KAAKN,YAA9C,EACE,6BACE,WAAW,CAAC,UADd,CAEE,SAAS,CAAC,kCAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAEG,QALT,CAME,QAAQ,CAAE,KAAKT,YANjB,EADF,CASE,6BACE,WAAW,CAAC,OADd,CAEE,SAAS,CAAC,kCAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAEU,KALT,CAME,QAAQ,CAAE,KAAKV,YANjB,EATF,CAiBE,6BACE,WAAW,CAAC,UADd,CAEE,SAAS,CAAC,kCAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAEW,QALT,CAME,QAAQ,CAAE,KAAKX,YANjB,EAjBF,CAyBE,6BACE,WAAW,CAAC,uBADd,CAEE,SAAS,CAAC,kCAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,IAAI,CAAC,uBAJP,CAKE,KAAK,CAAEY,qBALT,CAME,QAAQ,CAAE,KAAKZ,YANjB,EAzBF,CAkCE,8BAAQ,SAAS,CAAC,oCAAlB,CAAuD,WAAW,CAAC,QAAnE,CAA4E,IAAI,CAAC,QAAjF,YAlCF,CAqCE,qCACK,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,UADL,CArCF,CAFF,CA2CE,8BA3CF,CADF,CA8CE,2BAAK,SAAS,CAAC,WAAf,EAEI,KAAKQ,KAAL,CAAWe,MAAX,CAAoB,KAAKO,YAAL,EAApB,CAA0C,IAF9C,CA9CF,CAJF,CADF,CA2DD,C,oBA9HkBnC,S,EAiIrB,cAAeG,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\n  componentDidUpdate() {\n    return this.props.loggedInStatus ? this.redirect() : null\n  }\n  \n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {username, email, password, password_confirmation} = this.state\n    let user = {\n      username: username,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation,\n      cash: 5000.00\n    }\n    axios.post('https://ttp-live-backend.herokuapp.com/users', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.status === 'created') {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors,\n          username: '',\n          email: '',\n          password: '',\n          password_confirmation: ''\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.props.history.push('/')\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul className='error-message'>{this.state.errors.map((error) => {\n          return <li key={error}>{error}</li>\n        })}</ul> \n      </div>\n    )\n  }\n\n  render() {\n    const {username, email, password, password_confirmation} = this.state\n    return (\n      <>\n        <div className='top-menu'>\n            <span className='logo'>TTP Stock Trade</span>\n        </div>\n        <div className='center'>\n          <div id=\"login_div\">\n            <h4>Register</h4>\n            <form className=\"w3-container\" onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"username\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"username\"\n                value={username}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"email\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"text\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n              />\n              <input \n                placeholder=\"password\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password confirmation\"\n                className=\"w3-input w3-border w3-light-grey\"\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n              />\n            \n              <button className=\"w3-btn w3-round-large w3-blue-grey\" placeholder=\"submit\" type=\"submit\">\n                Sign Up\n              </button>\n              <div>\n                or <Link to='/login'>login</Link>\n              </div>\n            </form>\n            <br />\n          </div>\n          <div className='error-box'>\n            {\n              this.state.errors ? this.handleErrors() : null\n            }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}